###1.什么是TCP连接的三次握手?为什么需要三次而不是两次?
- 第一次握手：客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认；
- 第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态；
- 第三次握手：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。
握手过程中传送的包里不包含数据，三次握手完毕后，客户端与服务器才正式开始传送数据。理想状态下，TCP连接一旦建立，在通信双方中的任何一方主动关闭连接之前，
TCP 连接都将被一直保持下去。断开连接时服务器和客户端均可以主动发起断开TCP连接的请求，断开过程需要经过“四次握手”（过程就不细写了，就是服务器和客户端
交互，最终确定断开） 
- TCP的三次握手最主要是防止已过期的连接再次传到被连接的主机。如果采用两次的话，会出现下面这种情况。
> 比如是A机要连到B机，结果发送的连接信息由于某种原因没有到达B机；于是，A机又发了一次，结果这次B收到了，于是就发信息回来，两机就连接。传完东西后，断开。
三次握手改成仅需要两次握手，可能发生死锁。
考虑计算机A和B之间的通信，假定B给A发送一个连接请求分组，A收到了这个分组，并发送了确认应答分组。按照两次握手的协定，A认为连接已经成功地建立了，可以开始
发送数据分组。可是，B在A的应答分组在传输中被丢失的情况下，将不知道A是否已准备好，不知道A建议什么样的序列号，B甚至怀疑A是否收到自己的连接请求分组。在这
种情况下，B认为连接还未建立成功，将忽略A发来的任何数据分组，只等待连接确认应答分组。而A在发出的分组超时后，重复发送同样的分组。这样就形成了死锁。
还可能造成响应端资源浪费。如果是两次：C发送请求，S应答并分配资源，若S的应答没有到达C端，C认为连接未建立，而S认为建立了，S会在一段时间内保留分配的资源
如果大量C这样请求，S会崩溃。 


###2.OSI七层模型和协议?
- 物理层:主要任务是将比特流与电子信号进行转换。
- 数据链路层:定义了通过通信介质相互连接的设备之间，数据传输的规范。意义在于，如果没有数据链路层，数据只能以流的形式存在与通信介质中，不知道该发送往哪里，过
长的数据流可能无法在通信介质中传输。作用在于实现同一种数据链路下的包传递。
- 网络层:主要作用是实现终端节点间的通信。相比于数据链路层，网络层实现跨越不同数据链路的包传递。
- 传输层
- 会话层
- 表示层
- 应用层

###3.五类不同的IP地址?
- A类:0+7位网络号+24位主机号       范围:0.0.0.0 到 127.255.255.255 可容纳的主机为2^24-2
- B类:10+14位网络号+16位主机号     范围:127.0.0.0 到 191.255.255.255 可容纳的主机数为2^16-2
- C类:110+21位网络号+8位主机号     范围:192.0.0.0 到 223.255.255.255 可容纳的主机数为2^8 - 2
- D类:1110+14位网络号+28位多播组号 范围:224.0.0.0 到 239.255.255.255
- E类:11110+27位留待后用          范围:240.0.0.0 到 247.255.255.255
- 有三类IP地址:单播地址(目的为单个主机)、广播地址(目的端为给定网络上的所有主机)以及多播地址(目的端为同一组内的所有主机)
- 子网掩码：是一个 32 bit的值,其中值为 1的比特留给网络号和子网号,为0的比特留给主机号。

###4.ARP是什么协议?它的作用？
> ARP：地址解析协议，ARP为IP地址到对应的硬件地址之间提供动态映射，ARP的功能是在32bit的IP地址和采用不同网络技术的硬件地址之间提供动态映射。执行命令:ftp bsdi会进行以下这些步骤：



- 应用程序FTP客户端调用函数gethostbyname(3)把主机名(bsdi)转换成32bit的IP地址。这个函数在DNS(域名系统)中称作解析器,我们将在第14章对它进行介绍。
这个转换过程或者使用DNS,或者在较小网络中使用一个静态的主机文件(/etc/hosts)。- FTP客户端请求TCP用得到的IP地址建立连接。- TCP发送一个连接请求分段到远端的主机,即用上述IP地址发送一份IP数据报(在第18章我们将讨论完成这个过程的细节)。- 如果目的主机在本地网络上(如以太网、令牌环网或点对点链接的另一端),那么IP数据报可以直接送到目的主机上。如果目的主机在一个远程网络上,那么就通过IP选路
函数来确定位于本地网络上的下一站路由器地址,并让它转发IP数据报。在这两种情况下,IP数据报都是被送到位于本地网络上的一台主机或路器。- 假定是一个以太网,那么发送端主机必须把32bit的IP地址变换成48bit的以太网地址。从逻辑Internet地址到对应的物理硬件地址需要进行翻译。这就是ARP的功能。
ARP本来是用于广播网络的,有许多主机或路由器连在同一个网络上。- ARP发送一份称作ARP请求的以太网数据帧给以太网上的每个主机。这个过程称作广播,如图4-2中的虚线所示。ARP请求数据帧中包含目的主机的IP地址(主机名为bsdi),
其意思是“如果你是这个IP地址的拥有者,请回答你的硬件地址。”
- 目的主机的ARP层收到这份广播报文后,识别出这是发送端在寻问它的IP地址,于是发送一个ARP应答。这个ARP应答包含IP地址及对应的硬件地址。- 收到ARP应答后,使ARP进行请求—应答交换的IP数据报现在就可以传送了。- 发送IP数据报到目的主机。